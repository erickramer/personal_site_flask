{% extends "base.html" %}
{% block title %}About{% endblock %}


{% block head %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/about.js') }}"></script>
{% endblock %}

{% block content %}
  <div id="elm"></div>

  <script>
    app = Elm.About.init({
        node: document.getElementById('elm')
    });

    app.ports.storeParticles.subscribe(function(ps){
      localStorage.setItem('particles', JSON.stringify(ps));
    });

    var stored = localStorage.getItem('particles');
    if (stored) {
      app.ports.loadParticles.send(JSON.parse(stored));
    }

    var newWS = {"width": window.innerWidth, "height": window.innerHeight}
    app.ports.newWindowSize.send(newWS)

    window.onresize = function(event){
      var newWS = {"width": window.innerWidth, "height": window.innerHeight}
      app.ports.newWindowSize.send(newWS)
    }
  </script>
{% endblock %}